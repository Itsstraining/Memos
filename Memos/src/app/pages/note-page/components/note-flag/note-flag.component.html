

<div class="item" style="float: left;">
    <div class="item-content" [ngStyle]="{'background-color':this.noteServcies.getColorById(note.id,'flag',note.pin)}">
        <div class="noteItem unselectable">

            <div class="cardInfo">
                <button style="margin-left: 165px; width:auto; padding: 0px;" mat-menu-item class="myMenuItemRiple"
                    (click)="flagNote(note.id)">
                    <!-- [ngStyle]="{'background-color':this.noteServcies.getColorByNum(j+1,'flag')}" -->
                    <mat-icon>turned_in</mat-icon>
                </button>
                <div class="cardImage">
                    <img [src]="note.imagePreview">
                </div>
                <div class="fix-line-css">
                    <h3 class="cardTitle">{{note.title}}</h3>
                </div>

                <!-- code là bấm hiện thị nội dung ẩn nếu dùng ? -->
                <!-- <mat-accordion>
                    <mat-expansion-panel hideToggle>
                        <mat-expansion-panel-header>
                            <mat-panel-title>
                                <h3 class="cardTitle">{{note.title}}</h3>
                            </mat-panel-title>
                        </mat-expansion-panel-header>
                        <p class="cardDescripion">{{note.description}}</p>
                    </mat-expansion-panel>
                </mat-accordion> -->
                <br>
                <div class="fix-line-css">
                    <p class="cardDescripion">{{note.description}}</p>
                </div>
                <br>

                <div class="cardFooter" [ngClass]="{menuActive:menuActiveTrigger}">
                    <div class="noteMenuWrap">

                        <button mat-menu-item class="myMenuItem myMenuItemRiple" type="button" mat-raised-button
                            matTooltip="Đổi màu" mat-icon-button disableRipple=true, [matMenuTriggerFor]="colorMenu"
                            (menuClosed)="setMenuStatus(false)" (menuOpened)="setMenuStatus(true)">
                            <mat-icon class="material-icons-outlined">color_lens_outlined</mat-icon>
                        </button>
                        <mat-menu #colorMenu="matMenu">
                            <div class="matMenuWrap" click-stop-propagation>
                                <div class="colorsWrap">
                                    <div class="colorBtn" *ngFor="let color of this.noteServcies.colors; let i = index;"
                                        [ngStyle]="{'background-color':color}" (click)="colorClick(i,note.id)">
                                    </div>
                                </div>
                            </div>
                        </mat-menu>

                        <button id="hide" mat-menu-item class="myMenuItem myMenuItemRiple" (click)="input.click()">
                            <input #input nv-file-select type="file" (change)="upload($event,note.id,note.pin)" accept="*.png.jpg" />
                            <mat-icon>insert_photo_outlined</mat-icon>
                        </button>
                        <button mat-menu-item class="myMenuItem myMenuItemRiple" (click)="storeNote(note.id)">
                            <mat-icon>archive</mat-icon>
                        </button>
                        <button mat-menu-item class="myMenuItem myMenuItemRiple" (click)="deleteNote(note.id)">
                            <mat-icon>delete</mat-icon>
                        </button>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>